const loadTemplateM=(e,t)=>{let a="";for(let i=0;i<t;i++)a+=` <div class="article-middle">\n            <div class="article-middle__container">\n              <div class="article-middle__image">\n                    <img src="${e[i].image}" alt="мозг" />\n                </div>\n                <div class="article-middle__content">\n                    <p class="article-middle__date">${e[i].date}</p>\n                    <p id="${e[i].id}" class="article-middle__title">${e[i].title}</p>\n                    <p id="${e[i].id}" class="article-middle__text">${e[i].text}</p>\n                </div>\n                </div>\n            </div>`;return a},loadTemplate=(e,t)=>`\n            <div id="${t}" class="article-big">\n            <div class="article-big__container">\n              <div class="article-big__image">\n                <img src="${e.image}" alt="Человеческий мозг картинка" />\n              </div>\n              <div class="article-big__content">\n                <p class="article-big__date">${e.date}</p>\n                <p id="${e.id}" class="article-big__title">${e.title}</p>\n                <p id="${e.id}" class="article-big__text">${e.text}</p>\n              </div>\n            </div>\n          </div>\n            `,loadSigleArticle=e=>`\n    <div class="single-article">\n    <a class="single-article__breadCrumbs" href="articles.html">Статьи-> </a><a>${e.title}</a>\n      <div class="single-article__image">\n        <img src="${e.image}" alt="photo" />\n      </div>\n      <p class="single-article__date">${e.date}</p>\n      <h4 class="single-article__title">${e.title}</h4>\n      <p class="single-article__text">${e.text}</p>  \n      <div class="single-article__back-container">\n        <a class="single-article__back" href="articles.html">Назад</a>\n      </div>\n    </div>\n    `,loadSingle=e=>{console.log("ФУнкция единственного нажатия"),$.ajax({method:"GET",url:"http://localhost:3005/articles/one",dataType:"json",data:{id:e},success:e=>{console.log(e,"Одна статья");const t=$(".articles");var a;$(t).html(`\n    <div class="single-article">\n    <a class="single-article__breadCrumbs" href="articles.html">Статьи-> </a><a>${(a=e[0]).title}</a>\n      <div class="single-article__image">\n        <img src="${a.image}" alt="photo" />\n      </div>\n      <p class="single-article__date">${a.date}</p>\n      <h4 class="single-article__title">${a.title}</h4>\n      <p class="single-article__text">${a.text}</p>  \n      <div class="single-article__back-container">\n        <a class="single-article__back" href="articles.html">Назад</a>\n      </div>\n    </div>\n    `),$("body,html").animate({scrollTop:top},300)}})},loadListArt=(e,t,a)=>{const i=$(".articles");$.ajax({method:"GET",url:"http://localhost:3005/articles",dataType:"json",data:{count:e,section:t,rubric:a},success:t=>{console.log(t,"Список"),$(i).addClass("articles_flex-row").html(`<a class="articles__btn-back" href="articles.html">Все статьи -> Языки </a> ${loadTemplateM(t,e)}`)}})},loadRubricArt=(e,t)=>{console.log("API-> rubric funct"),$.ajax({method:"GET",url:"http://localhost:3005/articles/rubric",dataType:"json",data:{count:e,rubric:t},success:e=>{console.log(e,"Рубрика");const t=e;$(bigContainer).html(loadTemplate(t[3],t[3]?.id)),$(middleContainer).html(loadTemplateM(t,3))}})},initArticles=(e,t,a)=>{$.ajax({method:"GET",url:"http://localhost:3005/articles",dataType:"json",data:{count:e,section:t,rubric:a},success:e=>{console.log(e,"Количество");const t=e;$(bigContainer).html(loadTemplate(t[3],t[3]?.id)),$(middleContainer).html(loadTemplateM(t,3))}})},bigContainer=$(".articles__top-container"),middleContainer=$(".articles__bottom-container"),loadOn=()=>{$(".article-middle__title, .article-middle__text, .article-big__title, .article-big__text").on("click",(e=>{const t=e.target.id;loadSingle(t)}))},articlesMenuContainer=$(".articles__rubric-item");articlesMenuContainer.on("click",(function(e){let t=e.target.id;$(".active-menu").removeClass("active-menu"),$(e.target).addClass("active-menu"),$(".activeMenu").removeClass("activeMenu");switch($(`#${t}-list`).addClass("activeMenu"),t){case"articles-languages":initArticles(4,"languages","rubricHtml");break;case"articles-guides":initArticles(4,"guides","rubricOther");break;case"articles-others":initArticles(4,"others","rubricNews")}loadOn()}));const submenu=$(".articles__submenu-item");submenu.on("click",(e=>{var t,a;$(".activeSubMenu").removeClass("activeSubMenu"),$(e.target).addClass("activeSubMenu"),console.log(e.target,"Таргет САб меню"),t=4,a=e.target.id,console.log("API-> rubric funct"),$.ajax({method:"GET",url:"http://localhost:3005/articles/rubric",dataType:"json",data:{count:t,rubric:a},success:e=>{console.log(e,"Рубрика");const t=e;$(bigContainer).html(loadTemplate(t[3],t[3]?.id)),$(middleContainer).html(loadTemplateM(t,3))}}),loadOn()}));const btnViewAll=$("#viewAll");btnViewAll.on("click",(()=>{const e=$(".active-menu")[0].id;switch($("body,html").animate({scrollTop:top},500),e){case"articles-languages":loadListArt(8,"languages","rubricHtml");break;case"articles-guides":loadListArt(4,"guides","rubricOther");break;case"articles-others":loadListArt(8,"others","rubricNews")}loadOn()})),$(document).ready((()=>{initArticles(4,"languages","rubricHtml"),loadOn()}));